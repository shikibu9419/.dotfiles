#!/bin/zsh

message() {
  printf "\e[31;1mUPDATE: \e[37;1m$1\e[m\n"
}

message "brew"
brew update
brew upgrade
brew cleanup

message "zplug"
source ~/.zshrc > /dev/null
if ! zplug check --verbose; then
  printf "Install? [y/N]: "
  if read -q; then
    echo; zplug install
  fi
fi

message "vscode"
code --list-extensions > ~/dotfiles/init/vscode/package_list.txt

echo "Reloading..."
source ~/.zshrc
