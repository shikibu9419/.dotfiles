#!/bin/zsh

message() {
  printf "\e[31;1mUPDATE: \e[37;1m$1\e[m\n"
}

source ~/.zshrc > /dev/null

message 'brew'
brew update
brew upgrade
brew cleanup

message 'zplug'
if ! zplug check --verbose; then
  printf 'Install? [y/N]: '
  if read -q; then
    echo; zplug install
  fi
fi

message 'vscode'
code --list-extensions > $DOTPATH/init/vscode-extensions

message 'pip3'
pip3 freeze > $DOTPATH/init/pip-requirements

echo 'Reloading...'
source ~/.zshenv && source ~/.zshrc > /dev/null
